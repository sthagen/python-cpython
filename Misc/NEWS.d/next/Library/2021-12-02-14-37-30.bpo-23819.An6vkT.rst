Replaced asserts with exceptions in asyncio, patch by Kumar Aditya.